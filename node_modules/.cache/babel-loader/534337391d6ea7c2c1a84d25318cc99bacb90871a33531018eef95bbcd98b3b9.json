{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"formsec_right\"\n};\nconst _hoisted_2 = {\n  class: \"dsu-intro\"\n};\nconst _hoisted_3 = {\n  class: \"applyBox\"\n};\nconst _hoisted_4 = {\n  class: \"dsu-form rounded p-0 pt-3\"\n};\nconst _hoisted_5 = {\n  class: \"contact_fild\"\n};\nconst _hoisted_6 = {\n  class: \"formIDfid\"\n};\nconst _hoisted_7 = {\n  class: \"contact-fild-box d-none\"\n};\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = [\"value\", \"state-name\"];\nconst _hoisted_10 = {\n  class: \"contact-fild-box d-none\"\n};\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = {\n  id: \"citypid\",\n  class: \"py-0\"\n};\nconst _hoisted_13 = {\n  name: \"city\",\n  id: \"cityid\",\n  class: \"form-select formbg1\",\n  style: {\n    \"cursor\": \"pointer\"\n  }\n};\nconst _hoisted_14 = [\"value\"];\nimport { ref } from \"vue\";\n// import axios from \"axios\";\nconst cityUrl = \"https://api.countrystatecity.in/v1/countries/IN/states/\";\nconst apiKey = \"RW54RWI5d09URDZSSlN1cFNPQnE3cHpDRXlFY0JTUmxCTE84YXRFYQ==\";\nconst stateUrl = \"https://api.countrystatecity.in/v1/countries/IN/states\";\nexport default {\n  __name: 'PopUpForm',\n  setup(__props) {\n    const stateDetails = ref([]);\n    const cityDetails = ref([]);\n    const leadForm = ref(null);\n    async function fetchCities(stateCode) {\n      const response = await fetch(`${cityUrl}${stateCode}/cities`, {\n        headers: {\n          \"X-CSCAPI-KEY\": apiKey\n        }\n      });\n      const cities = await response.json();\n      cityDetails.value = cities;\n    }\n    function select_state_func() {\n      let stateCode = document.getElementById(\"stateid_popup\").value;\n      fetchCities(stateCode);\n    }\n    async function fetchStates() {\n      const response = await fetch(stateUrl, {\n        headers: {\n          \"X-CSCAPI-KEY\": apiKey\n        }\n      });\n      stateDetails.value = await response.json();\n    }\n    async function submitForm() {\n      console.log(leadForm.value.stateid, leadForm.value.cityid);\n      let form = {\n        name: leadForm.value.name.value,\n        mail: leadForm.value.mail.value,\n        phone: leadForm.value.phone.value,\n        city: \"--\",\n        state: \"--\",\n        program: \"--\",\n        course: \"--\",\n        time: new Date(),\n        uploadby: \"Enquire\"\n      };\n      let url = \"https://script.google.com/macros/s/AKfycbxA8UidAA2a4eLZNCd5svy-HPmCu6VhRQdM5iIv1fVN8ScEBKwC-OIrCk1Vox2zcExU5g/exec\";\n      try {\n        let response = await fetch(url, {\n          method: \"POST\",\n          mode: \"no-cors\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(form)\n        });\n        console.log(response);\n        alert(\"Form submitted successfully!\");\n        leadForm.value.reset();\n      } catch (error) {\n        console.error(\"Error:\", error);\n        alert(\"Failed to submit form.\");\n      }\n    }\n\n    // Initialize States on page load\n    fetchStates();\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n        class: \"frmBg bg-white mb-3\"\n      }, [_createElementVNode(\"span\", {\n        class: \"fs-4 text-dark d-inline-block my-3\"\n      }, \"Enquire Now\")], -1)), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n        ref_key: \"leadForm\",\n        ref: leadForm,\n        onSubmit: _cache[1] || (_cache[1] = _withModifiers($event => submitForm(), [\"prevent\"])),\n        name: \"contact-form\"\n      }, [_createElementVNode(\"div\", _hoisted_6, [_cache[4] || (_cache[4] = _createStaticVNode(\"<div class=\\\"contact-fild-box\\\"><div class=\\\"form-group\\\"><input name=\\\"name\\\" id=\\\"name\\\" class=\\\"form-control\\\" placeholder=\\\"Name*\\\" type=\\\"text\\\" required></div></div><div class=\\\"contact-fild-box\\\"><div class=\\\"form-group\\\"><input name=\\\"email\\\" id=\\\"mail\\\" class=\\\"form-control\\\" placeholder=\\\"Email*\\\" maxlength=\\\"30\\\" type=\\\"email\\\" required></div></div><div class=\\\"contact-fild-box\\\"><div class=\\\"form-group\\\"><input class=\\\"form-control\\\" id=\\\"phone\\\" type=\\\"tel\\\" maxlength=\\\"10\\\" placeholder=\\\"Mobile*\\\" name=\\\"phone\\\" pattern=\\\"[6-9]{1}[0-9]{9}\\\" title=\\\"Phone number with 6-9 and remaing 9 digit with 0-9\\\" required></div></div>\", 3)), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"select\", {\n        name: \"state\",\n        id: \"stateid_popup\",\n        onChange: _cache[0] || (_cache[0] = $event => select_state_func()),\n        class: \"form-select\",\n        style: {\n          \"cursor\": \"pointer\"\n        }\n      }, [_cache[2] || (_cache[2] = _createElementVNode(\"option\", {\n        value: \"\",\n        default: \"\",\n        selected: \"\",\n        disabled: \"\"\n      }, \" Select State* \", -1)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(stateDetails.value, state => {\n        return _openBlock(), _createElementBlock(\"option\", {\n          key: state,\n          value: state.iso2,\n          \"state-name\": state.name\n        }, _toDisplayString(state.name), 9, _hoisted_9);\n      }), 128))], 32)])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"p\", _hoisted_12, [_createElementVNode(\"select\", _hoisted_13, [_cache[3] || (_cache[3] = _createElementVNode(\"option\", {\n        value: \"\"\n      }, \"Select City*\", -1)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(cityDetails.value, city => {\n        return _openBlock(), _createElementBlock(\"option\", {\n          value: city.name,\n          key: city\n        }, _toDisplayString(city.name), 9, _hoisted_14);\n      }), 128))])])])]), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n        class: \"contact-fild-box mt-4\"\n      }, [_createElementVNode(\"div\", {\n        class: \"form-group\"\n      }, [_createElementVNode(\"button\", {\n        id: \"btnSubmit\",\n        type: \"submit\",\n        class: \"btn btn_submit\"\n      }, \" Submit \")])], -1))])], 544)])])])])])]);\n    };\n  }\n};","map":{"version":3,"names":["ref","cityUrl","apiKey","stateUrl","stateDetails","cityDetails","leadForm","fetchCities","stateCode","response","fetch","headers","cities","json","value","select_state_func","document","getElementById","fetchStates","submitForm","console","log","stateid","cityid","form","name","mail","phone","city","state","program","course","time","Date","uploadby","url","method","mode","body","JSON","stringify","alert","reset","error"],"sources":["/home/roopusdcglobal/Downloads/new/nextstep/src/components/PopUpForm.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"formsec_right\">\n      <div class=\"dsu-intro\">\n        <div class=\"applyBox\">\n          <div class=\"dsu-form rounded p-0 pt-3\">\n            <div class=\"frmBg bg-white mb-3\">\n              <span class=\"fs-4 text-dark d-inline-block my-3\"\n                >Enquire Now</span\n              >\n            </div>\n\n            <div class=\"contact_fild\">\n              <form\n                ref=\"leadForm\"\n                @submit.prevent=\"submitForm()\"\n                name=\"contact-form\"\n              >\n                <div class=\"formIDfid\">\n                  <div class=\"contact-fild-box\">\n                    <div class=\"form-group\">\n                      <input\n                        name=\"name\"\n                        id=\"name\"\n                        class=\"form-control\"\n                        placeholder=\"Name*\"\n                        type=\"text\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"contact-fild-box\">\n                    <div class=\"form-group\">\n                      <input\n                        name=\"email\"\n                        id=\"mail\"\n                        class=\"form-control\"\n                        placeholder=\"Email*\"\n                        maxlength=\"30\"\n                        type=\"email\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"contact-fild-box\">\n                    <div class=\"form-group\">\n                      <input\n                        class=\"form-control\"\n                        id=\"phone\"\n                        type=\"tel\"\n                        maxlength=\"10\"\n                        placeholder=\"Mobile*\"\n                        name=\"phone\"\n                        pattern=\"[6-9]{1}[0-9]{9}\"\n                        title=\"Phone number with 6-9 and remaing 9 digit with 0-9\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"contact-fild-box d-none\">\n                    <div class=\"form-group\">\n                      <select\n                        name=\"state\"\n                        id=\"stateid_popup\"\n                        @change=\"select_state_func()\"\n                        class=\"form-select\"\n                        style=\"cursor: pointer\"\n                      >\n                        <option value=\"\" default selected disabled>\n                          Select State*\n                        </option>\n                        <option\n                          v-for=\"state in stateDetails\"\n                          :key=\"state\"\n                          :value=\"state.iso2\"\n                          :state-name=\"state.name\"\n                        >\n                          {{ state.name }}\n                        </option>\n                      </select>\n                    </div>\n                  </div>\n\n                  <div class=\"contact-fild-box d-none\">\n                    <div class=\"form-group\">\n                      <p id=\"citypid\" class=\"py-0\">\n                        <select\n                          name=\"city\"\n                          id=\"cityid\"\n                          class=\"form-select formbg1\"\n                          style=\"cursor: pointer\"\n                        >\n                          <option value=\"\">Select City*</option>\n                          <option\n                            :value=\"city.name\"\n                            v-for=\"city in cityDetails\"\n                            :key=\"city\"\n                          >\n                            {{ city.name }}\n                          </option>\n                        </select>\n                      </p>\n                    </div>\n                  </div>\n\n                  <div class=\"contact-fild-box mt-4\">\n                    <div class=\"form-group\">\n                      <button\n                        id=\"btnSubmit\"\n                        type=\"submit\"\n                        class=\"btn btn_submit\"\n                      >\n                        Submit\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\n// import axios from \"axios\";\nconst stateDetails = ref([]);\nconst cityDetails = ref([]);\n\nconst leadForm = ref(null);\n\nconst cityUrl = \"https://api.countrystatecity.in/v1/countries/IN/states/\";\nconst apiKey = \"RW54RWI5d09URDZSSlN1cFNPQnE3cHpDRXlFY0JTUmxCTE84YXRFYQ==\";\nasync function fetchCities(stateCode) {\n  const response = await fetch(`${cityUrl}${stateCode}/cities`, {\n    headers: { \"X-CSCAPI-KEY\": apiKey },\n  });\n  const cities = await response.json();\n  cityDetails.value = cities;\n}\n\nfunction select_state_func() {\n  let stateCode = document.getElementById(\"stateid_popup\").value;\n  fetchCities(stateCode);\n}\n\nconst stateUrl = \"https://api.countrystatecity.in/v1/countries/IN/states\";\n\nasync function fetchStates() {\n  const response = await fetch(stateUrl, {\n    headers: { \"X-CSCAPI-KEY\": apiKey },\n  });\n  stateDetails.value = await response.json();\n}\n\nasync function submitForm() {\n  console.log(leadForm.value.stateid, leadForm.value.cityid);\n  let form = {\n    name: leadForm.value.name.value,\n    mail: leadForm.value.mail.value,\n    phone: leadForm.value.phone.value,\n    city: \"--\",\n    state: \"--\",\n    program: \"--\",\n    course: \"--\",\n    time: new Date(),\n    uploadby: \"Enquire\",\n  };\n  let url =\n    \"https://script.google.com/macros/s/AKfycbxA8UidAA2a4eLZNCd5svy-HPmCu6VhRQdM5iIv1fVN8ScEBKwC-OIrCk1Vox2zcExU5g/exec\";\n\n  try {\n    let response = await fetch(url, {\n      method: \"POST\",\n      mode: \"no-cors\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(form),\n    });\n    console.log(response);\n    alert(\"Form submitted successfully!\");\n    leadForm.value.reset();\n  } catch (error) {\n    console.error(\"Error:\", error);\n    alert(\"Failed to submit form.\");\n  }\n}\n\n// Initialize States on page load\nfetchStates();\n</script>\n\n<style></style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA,SAASA,GAAG,QAAQ,KAAK;AACzB;AAMA,MAAMC,OAAO,GAAG,yDAAyD;AACzE,MAAMC,MAAM,GAAG,0DAA0D;AAczE,MAAMC,QAAQ,GAAG,wDAAwD;;;;IApBzE,MAAMC,YAAY,GAAGJ,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMK,WAAW,GAAGL,GAAG,CAAC,EAAE,CAAC;IAE3B,MAAMM,QAAQ,GAAGN,GAAG,CAAC,IAAI,CAAC;IAI1B,eAAeO,WAAWA,CAACC,SAAS,EAAE;MACpC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGT,OAAO,GAAGO,SAAS,SAAS,EAAE;QAC5DG,OAAO,EAAE;UAAE,cAAc,EAAET;QAAO;MACpC,CAAC,CAAC;MACF,MAAMU,MAAM,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MACpCR,WAAW,CAACS,KAAK,GAAGF,MAAM;IAC5B;IAEA,SAASG,iBAAiBA,CAAA,EAAG;MAC3B,IAAIP,SAAS,GAAGQ,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC,CAACH,KAAK;MAC9DP,WAAW,CAACC,SAAS,CAAC;IACxB;IAIA,eAAeU,WAAWA,CAAA,EAAG;MAC3B,MAAMT,QAAQ,GAAG,MAAMC,KAAK,CAACP,QAAQ,EAAE;QACrCQ,OAAO,EAAE;UAAE,cAAc,EAAET;QAAO;MACpC,CAAC,CAAC;MACFE,YAAY,CAACU,KAAK,GAAG,MAAML,QAAQ,CAACI,IAAI,CAAC,CAAC;IAC5C;IAEA,eAAeM,UAAUA,CAAA,EAAG;MAC1BC,OAAO,CAACC,GAAG,CAACf,QAAQ,CAACQ,KAAK,CAACQ,OAAO,EAAEhB,QAAQ,CAACQ,KAAK,CAACS,MAAM,CAAC;MAC1D,IAAIC,IAAI,GAAG;QACTC,IAAI,EAAEnB,QAAQ,CAACQ,KAAK,CAACW,IAAI,CAACX,KAAK;QAC/BY,IAAI,EAAEpB,QAAQ,CAACQ,KAAK,CAACY,IAAI,CAACZ,KAAK;QAC/Ba,KAAK,EAAErB,QAAQ,CAACQ,KAAK,CAACa,KAAK,CAACb,KAAK;QACjCc,IAAI,EAAE,IAAI;QACVC,KAAK,EAAE,IAAI;QACXC,OAAO,EAAE,IAAI;QACbC,MAAM,EAAE,IAAI;QACZC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC;QAChBC,QAAQ,EAAE;MACZ,CAAC;MACD,IAAIC,GAAG,GACL,oHAAoH;MAEtH,IAAI;QACF,IAAI1B,QAAQ,GAAG,MAAMC,KAAK,CAACyB,GAAG,EAAE;UAC9BC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAE,SAAS;UACf1B,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAC/C2B,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAChB,IAAI;QAC3B,CAAC,CAAC;QACFJ,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAAC;QACrBgC,KAAK,CAAC,8BAA8B,CAAC;QACrCnC,QAAQ,CAACQ,KAAK,CAAC4B,KAAK,CAAC,CAAC;MACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdvB,OAAO,CAACuB,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;QAC9BF,KAAK,CAAC,wBAAwB,CAAC;MACjC;IACF;;IAEA;IACAvB,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}