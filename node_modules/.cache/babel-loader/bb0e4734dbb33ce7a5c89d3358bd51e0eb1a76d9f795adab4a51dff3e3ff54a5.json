{"ast":null,"code":"import { ref } from \"vue\";\nimport axios from \"axios\";\nconst cityUrl = \"https://api.countrystatecity.in/v1/countries/IN/states/\";\nconst apiKey = \"RW54RWI5d09URDZSSlN1cFNPQnE3cHpDRXlFY0JTUmxCTE84YXRFYQ==\";\n// Fetch Cities based on state\nconst stateUrl = \"https://api.countrystatecity.in/v1/countries/IN/states\";\n\n// Fetch States\n\nexport default {\n  __name: 'PopUpForm',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const stateDetails = ref([]);\n    const cityDetails = ref([]);\n    async function fetchCities(stateCode) {\n      const response = await fetch(`${cityUrl}${stateCode}/cities`, {\n        headers: {\n          \"X-CSCAPI-KEY\": apiKey\n        }\n      });\n      const cities = await response.json();\n      cityDetails.value = cities;\n    }\n    // Event Listeners\n\n    function select_state_func() {\n      let stateCode = document.getElementById(\"stateid\").value;\n      fetchCities(stateCode);\n    }\n    async function fetchStates() {\n      const response = await fetch(stateUrl, {\n        headers: {\n          \"X-CSCAPI-KEY\": apiKey\n        }\n      });\n      stateDetails.value = await response.json();\n    }\n    submitForm();\n    async function submitForm() {\n      // const formData = {\n      //   name: \"John Doe\",\n      //   mail: \"john@example.com\",\n      //   phone: \"1234567890\",\n      //   city: \"New York\",\n      //   state: \"NY\",\n      //   program: \"B.Tech\",\n      //   course: \"Computer Science\",\n      // };\n      let formDateVal = new FormData();\n      formDateVal.append(\"name\", \"value\");\n      formDateVal.append(\"mail\", \"value\");\n      formDateVal.append(\"phone\", \"value\");\n      formDateVal.append(\"city\", \"value\");\n      formDateVal.append(\"state\", \"value\");\n      formDateVal.append(\"program\", \"value\");\n      formDateVal.append(\"course\", \"value\");\n      let url = \"https://script.google.com/macros/s/AKfycbxauAeDL1vb1QRqk0QqVghOeeZ1WUno8Rah69HCBscAy7WuojBo6uoQQPhR1v622k4m/exec\";\n      axios.post(url, formDateVal).then(response => response.json()).then(data => console.log(\"Success:\", data)).catch(error => console.error(\"Error:\", error));\n    }\n\n    // Initialize States on page load\n    fetchStates();\n    const __returned__ = {\n      stateDetails,\n      cityDetails,\n      cityUrl,\n      apiKey,\n      fetchCities,\n      select_state_func,\n      stateUrl,\n      fetchStates,\n      submitForm,\n      ref,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","cityUrl","apiKey","stateUrl","stateDetails","cityDetails","fetchCities","stateCode","response","fetch","headers","cities","json","value","select_state_func","document","getElementById","fetchStates","submitForm","formDateVal","FormData","append","url","post","then","data","console","log","catch","error"],"sources":["/home/mahendran/mahendran/project/nextstep/src/components/PopUpForm.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"formsec_right\">\n      <div class=\"dsu-intro\">\n        <div class=\"applyBox\">\n          <div class=\"dsu-form rounded p-0 pt-3\">\n            <div class=\"frmBg bg-white mb-3\">\n              <span class=\"fs-4 text-dark d-inline-block my-3\"\n                >Enquire Now</span\n              >\n            </div>\n\n            <div class=\"contact_fild\">\n              <form @submit.prevent=\"submitLeadForm()\" name=\"contact-form\">\n                <div class=\"formIDfid\">\n                  <div class=\"contact-fild-box\">\n                    <div class=\"form-group\">\n                      <input\n                        name=\"name\"\n                        class=\"form-control\"\n                        placeholder=\"Name*\"\n                        type=\"text\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"contact-fild-box\">\n                    <div class=\"form-group\">\n                      <input\n                        name=\"email\"\n                        class=\"form-control\"\n                        placeholder=\"Email*\"\n                        maxlength=\"30\"\n                        type=\"email\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"contact-fild-box\">\n                    <div class=\"form-group\">\n                      <input\n                        class=\"form-control\"\n                        id=\"phone\"\n                        type=\"tel\"\n                        maxlength=\"10\"\n                        placeholder=\"Mobile*\"\n                        name=\"phone\"\n                        pattern=\"[6-9]{1}[0-9]{9}\"\n                        title=\"Phone number with 6-9 and remaing 9 digit with 0-9\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"contact-fild-box\">\n                    <div class=\"form-group\">\n                      <select\n                        name=\"state\"\n                        id=\"stateid\"\n                        @change=\"select_state_func()\"\n                        class=\"form-select\"\n                        style=\"cursor: pointer\"\n                        required\n                      >\n                        <option value=\"\" default selected disabled>\n                          Select State*\n                        </option>\n                        <option\n                          v-for=\"state in stateDetails\"\n                          :key=\"state\"\n                          :value=\"state.iso2\"\n                          :state-name=\"state.name\"\n                        >\n                          {{ state.name }}\n                        </option>\n                      </select>\n                    </div>\n                  </div>\n\n                  <div class=\"contact-fild-box\">\n                    <div class=\"form-group\">\n                      <p id=\"citypid\" class=\"py-0\">\n                        <select\n                          name=\"city\"\n                          id=\"cityid\"\n                          class=\"form-select formbg1\"\n                          style=\"cursor: pointer\"\n                          required\n                        >\n                          <option value=\"\">Select City*</option>\n                          <option\n                            :value=\"city.name\"\n                            v-for=\"city in cityDetails\"\n                            :key=\"city\"\n                          >\n                            {{ city.name }}\n                          </option>\n                        </select>\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"contact-fild-box mt-4\">\n                    <div class=\"form-group\">\n                      <button\n                        id=\"btnSubmit\"\n                        type=\"submit\"\n                        class=\"btn btn_submit\"\n                      >\n                        Submit\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nconst stateDetails = ref([]);\nconst cityDetails = ref([]);\nconst cityUrl = \"https://api.countrystatecity.in/v1/countries/IN/states/\";\nconst apiKey = \"RW54RWI5d09URDZSSlN1cFNPQnE3cHpDRXlFY0JTUmxCTE84YXRFYQ==\";\n// Fetch Cities based on state\nasync function fetchCities(stateCode) {\n  const response = await fetch(`${cityUrl}${stateCode}/cities`, {\n    headers: { \"X-CSCAPI-KEY\": apiKey },\n  });\n  const cities = await response.json();\n  cityDetails.value = cities;\n}\n// Event Listeners\n\nfunction select_state_func() {\n  let stateCode = document.getElementById(\"stateid\").value;\n  fetchCities(stateCode);\n}\n\nconst stateUrl = \"https://api.countrystatecity.in/v1/countries/IN/states\";\n\n// Fetch States\nasync function fetchStates() {\n  const response = await fetch(stateUrl, {\n    headers: { \"X-CSCAPI-KEY\": apiKey },\n  });\n  stateDetails.value = await response.json();\n}\nsubmitForm();\nasync function submitForm() {\n  // const formData = {\n  //   name: \"John Doe\",\n  //   mail: \"john@example.com\",\n  //   phone: \"1234567890\",\n  //   city: \"New York\",\n  //   state: \"NY\",\n  //   program: \"B.Tech\",\n  //   course: \"Computer Science\",\n  // };\n  let formDateVal = new FormData();\n  formDateVal.append(\"name\", \"value\");\n  formDateVal.append(\"mail\", \"value\");\n  formDateVal.append(\"phone\", \"value\");\n  formDateVal.append(\"city\", \"value\");\n  formDateVal.append(\"state\", \"value\");\n  formDateVal.append(\"program\", \"value\");\n  formDateVal.append(\"course\", \"value\");\n\n  let url =\n    \"https://script.google.com/macros/s/AKfycbxauAeDL1vb1QRqk0QqVghOeeZ1WUno8Rah69HCBscAy7WuojBo6uoQQPhR1v622k4m/exec\";\n  axios\n    .post(url, formDateVal)\n    .then((response) => response.json())\n    .then((data) => console.log(\"Success:\", data))\n    .catch((error) => console.error(\"Error:\", error));\n}\n\n// Initialize States on page load\nfetchStates();\n</script>\n\n<style></style>\n"],"mappings":"AA6HA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;AAGzB,MAAMC,OAAO,GAAG,yDAAyD;AACzE,MAAMC,MAAM,GAAG,0DAA0D;AACzE;AAeA,MAAMC,QAAQ,GAAG,wDAAwD;;AAEzE;;;;;;;;IArBA,MAAMC,YAAY,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMM,WAAW,GAAGN,GAAG,CAAC,EAAE,CAAC;IAI3B,eAAeO,WAAWA,CAACC,SAAS,EAAE;MACpC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,OAAO,GAAGM,SAAS,SAAS,EAAE;QAC5DG,OAAO,EAAE;UAAE,cAAc,EAAER;QAAO;MACpC,CAAC,CAAC;MACF,MAAMS,MAAM,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MACpCP,WAAW,CAACQ,KAAK,GAAGF,MAAM;IAC5B;IACA;;IAEA,SAASG,iBAAiBA,CAAA,EAAG;MAC3B,IAAIP,SAAS,GAAGQ,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACH,KAAK;MACxDP,WAAW,CAACC,SAAS,CAAC;IACxB;IAKA,eAAeU,WAAWA,CAAA,EAAG;MAC3B,MAAMT,QAAQ,GAAG,MAAMC,KAAK,CAACN,QAAQ,EAAE;QACrCO,OAAO,EAAE;UAAE,cAAc,EAAER;QAAO;MACpC,CAAC,CAAC;MACFE,YAAY,CAACS,KAAK,GAAG,MAAML,QAAQ,CAACI,IAAI,CAAC,CAAC;IAC5C;IACAM,UAAU,CAAC,CAAC;IACZ,eAAeA,UAAUA,CAAA,EAAG;MAC1B;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,IAAIC,WAAW,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAChCD,WAAW,CAACE,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC;MACnCF,WAAW,CAACE,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC;MACnCF,WAAW,CAACE,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC;MACpCF,WAAW,CAACE,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC;MACnCF,WAAW,CAACE,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC;MACpCF,WAAW,CAACE,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC;MACtCF,WAAW,CAACE,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC;MAErC,IAAIC,GAAG,GACL,kHAAkH;MACpHtB,KAAI,CACDuB,IAAI,CAACD,GAAG,EAAEH,WAAW,EACrBK,IAAI,CAAEhB,QAAQ,IAAKA,QAAQ,CAACI,IAAI,CAAC,CAAC,EAClCY,IAAI,CAAEC,IAAI,IAAKC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,IAAI,CAAC,EAC5CG,KAAK,CAAEC,KAAK,IAAKH,OAAO,CAACG,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC,CAAC;IACrD;;IAEA;IACAZ,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}